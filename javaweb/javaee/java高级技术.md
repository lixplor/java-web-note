# 注解

## 自定义注解

* 定义注解: `@interface 注解名`
* 定义注解中的属性:
    - `数据类型 属性名();`: 如果属性没有默认值, 使用注解时必须给属性赋值
    - `数据类型 属性名() default 默认值;`
    - 注意:
        - 如果注解中只有一个属性, 且属性名是`value`, 或其他属性都有默认值, 则使用注解时, 属性名可以省略
        - 属性只能使用基本数据类型, String, Class, Annotation, Enumeration和这些类型的一维数组
* 元注解
    - 默认的注解只存在于源代码中, 在编译后就不存在了, 若要继续存在, 需要使用元注解
    - 元注解用于修饰其他注解, 即在定义的注解上添加`@Retention()`注解


# 动态代理

* `java.lang.reflect.Proxy`

## 增强方法功能的3种方式

* 继承并重写
* 装饰器模式
* 动态代理


# 类加载器

* 作用: 将class文件加载到内存中, 执行这个文件
* 3类
    - 引导类加载器(Bootstrap ClassLoader): 加载`jdk/jre/lib/rt.jar`
    - 扩展类加载器(Extension ClassLoader): 加载`jdk/jre/lib/ext/`中的所有jar包
    - 应用类加载器(Application ClassLoader): 加载自定义的类加载器, 即Java代码编译后的class文件
* 类加载器的父委托机制:
    - 作用: 保证类只被加载一次
    - 加载流程:
        - 向上委托:
            - 应用类加载器得到class, 应用类加载器不加载, 而委托给扩展类加载器
            - 扩展类加载器不加载, 而委托给引导类加载器.
        - 向下加载:
            - 引导类加载器先寻找所加载的类中是否有该class, 有则加载, 没有则向下返回扩展类加载器
            - 扩展类加载器寻找所加载的类中是否有该class, 有则加载, 没有则向下返回应用类加载器
            - 应用类加载器寻找所加载的类中是否有该class, 有则加载, 没有则抛出`ClassNotFoundException`
